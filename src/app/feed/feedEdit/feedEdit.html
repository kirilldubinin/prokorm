<div class="feed-edit" layout-padding="" layout="column">

    <!-- HEADER -->
    <div class="feed-edit-header" layout="row">
        <div flex="{{block.width}}" ng-repeat="block in feedEdit.feedItemSections">
            <label class="title">
                {{block.label}}
            </label>
            <group-buttons ng-if="block.key === 'analysis'" 
                allow-add="true"
                on-add="feedEdit.onAnalysisAdd()" 
                on-select="feedEdit.onAnalysisSelect(item)"
                items="feedEdit.feedItem.analysis">
            </group-buttons>
        </div>
    </div>

    <!-- CONTENT -->
    <div flex class="feed-edit-content" layout="row">
        <diV flex="{{block.width}}" ng-repeat="block in feedEdit.feedItemSections" layout="row">
            <div ng-if="block.key !== 'analysis' || feedEdit.currentAnalysis === subSection.initialItem" flex class="edit-block-sub-section" ng-repeat="subSection in block.subSections">
                <md-input-container class="feed-property" ng-repeat="control in subSection.controls" ng-class="{booleanProperty : control.isBoolean}">
                    
                    <!-- BOOLEAN -->  
                    <md-checkbox ng-show="control.isBoolean" class="md-primary" ng-model="control.itemToBind[control.key]">
                        {{control.label}}: ({{ control.itemToBind[control.key] ? 'Да' : 'Нет' }})
                    </md-checkbox>                  

                    <!-- INPUT -->
                    <label ng-show="!control.isBoolean" class="self-explanation-link">
                        {{control.label}}  {{control.dimension}}
                    </label>
                    <input ng-show="!control.isBoolean" ng-model="control.itemToBind[control.key]"/>

                </md-input-container>    
            </div>
        </diV>
    </div>

    <!-- ACTIONS -->
    <div class="feed-edit-actions" layout="row" layout-align="center left" layout-sm="column" layout-wrap="">
        <md-button class="md-raised" ng-click="feedEdit.cancel()">
            Cancel
        </md-button>
        <md-button class="md-raised md-primary" ng-click="feedEdit.save()">
            Save
        </md-button>
    </div>
</div>